<div class="min-h-screen bg-slate-900 text-slate-200 flex flex-col md:flex-row font-sans">
  
  <!-- Sidebar Navigation -->
  <aside class="w-full md:w-64 bg-slate-950 border-r border-slate-800 flex-shrink-0 flex flex-col h-screen overflow-hidden sticky top-0">
    <div class="p-6 border-b border-slate-800 bg-slate-950 z-10">
      <h1 class="text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-emerald-400">
        Quant Blueprint
      </h1>
      <p class="text-xs text-slate-500 mt-1">HFT & ML Career Strategy</p>
    </div>

    <nav class="flex-1 overflow-y-auto p-4 space-y-6">
      @for (phase of phases; track phase.id) {
        <div>
          <div class="text-xs font-semibold uppercase tracking-wider mb-2" [class]="phase.color">
            {{ phase.name }}
          </div>
          <div class="space-y-1 relative pl-2 border-l border-slate-800">
            @for (weekId of phase.weeks; track weekId) {
              <button 
                (click)="selectWeek(weekId); setTab('roadmap')"
                class="w-full text-left px-3 py-2 rounded-md text-sm transition-all duration-200 flex items-center group relative"
                [class.bg-slate-800]="selectedWeekId() === weekId"
                [class.text-white]="selectedWeekId() === weekId"
                [class.text-slate-400]="selectedWeekId() !== weekId"
                [class.hover:bg-slate-900]="selectedWeekId() !== weekId"
              >
                <span class="w-6 h-6 rounded-full flex items-center justify-center text-xs mr-2 border transition-colors"
                  [class.border-cyan-500]="selectedWeekId() === weekId"
                  [class.bg-cyan-500]="selectedWeekId() === weekId"
                  [class.text-black]="selectedWeekId() === weekId"
                  [class.border-slate-700]="selectedWeekId() !== weekId"
                >
                  {{ weekId }}
                </span>
                <span class="truncate">第 {{ weekId }} 週</span>
              </button>
            }
          </div>
        </div>
      }
    </nav>

    <div class="p-4 border-t border-slate-800 bg-slate-950 text-xs text-center text-slate-600">
      Powered by Google Gemini
    </div>
  </aside>

  <!-- Main Content Area -->
  <main class="flex-1 flex flex-col h-screen overflow-hidden">
    
    <!-- Top Bar -->
    <header class="h-16 bg-slate-900 border-b border-slate-800 flex items-center justify-between px-8 flex-shrink-0">
      <div class="flex space-x-6">
        <button 
          (click)="setTab('roadmap')"
          class="pb-1 text-sm font-medium border-b-2 transition-colors duration-200"
          [class.border-cyan-500]="activeTab() === 'roadmap'"
          [class.text-cyan-400]="activeTab() === 'roadmap'"
          [class.border-transparent]="activeTab() !== 'roadmap'"
          [class.text-slate-400]="activeTab() !== 'roadmap'"
        >
          <i class="fas fa-map mr-2"></i> 學習藍圖
        </button>
        <button 
          (click)="setTab('interview')"
          class="pb-1 text-sm font-medium border-b-2 transition-colors duration-200"
          [class.border-cyan-500]="activeTab() === 'interview'"
          [class.text-cyan-400]="activeTab() === 'interview'"
          [class.border-transparent]="activeTab() !== 'interview'"
          [class.text-slate-400]="activeTab() !== 'interview'"
        >
          <i class="fas fa-brain mr-2"></i> 模擬面試
        </button>
        <button 
          (click)="setTab('project')"
          class="pb-1 text-sm font-medium border-b-2 transition-colors duration-200"
          [class.border-cyan-500]="activeTab() === 'project'"
          [class.text-cyan-400]="activeTab() === 'project'"
          [class.border-transparent]="activeTab() !== 'project'"
          [class.text-slate-400]="activeTab() !== 'project'"
        >
          <i class="fas fa-laptop-code mr-2"></i> 專題概覽
        </button>
      </div>
      
      <div class="flex items-center space-x-3">
        <span class="px-3 py-1 rounded-full bg-slate-800 border border-slate-700 text-xs text-slate-300">
          <i class="fas fa-user-tie mr-1 text-cyan-500"></i> Target: Prop Trading
        </span>
      </div>
    </header>

    <!-- Content Scrollable Area -->
    <div class="flex-1 overflow-y-auto p-6 lg:p-8 bg-slate-900">
      
      @if (activeTab() === 'roadmap') {
        <div class="max-w-7xl mx-auto space-y-6 animate-fade-in pb-20">
          
          <!-- Header Area with Summary -->
          <div class="flex flex-col mb-4">
             <div>
                <span class="text-xs font-bold uppercase tracking-wider px-2 py-1 rounded bg-slate-800 text-cyan-400 mb-2 inline-block border border-slate-700">
                  {{ currentPhaseData()?.name }}
                </span>
                <div class="flex flex-col lg:flex-row lg:items-end justify-between">
                   <h2 class="text-3xl font-bold text-white mt-1">{{ currentWeekData()?.title }}</h2>
                   <div class="text-sm text-slate-500 font-mono mt-2 lg:mt-0">{{ currentDaySchedule()?.day_id }} / {{ currentWeekSchedule().length > 0 ? currentWeekSchedule().length : 5 }} DAYS</div>
                </div>
                <p class="text-slate-400 mt-2 leading-relaxed border-l-4 border-slate-700 pl-4 text-sm max-w-4xl">
                  {{ currentWeekData()?.summary }}
                </p>
             </div>
          </div>

          <!-- Main Grid -->
          <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            
            <!-- Left Column: Tasks (Span 2) -->
            <div class="lg:col-span-2 space-y-6">
                
                <!-- Day Selector Tabs -->
                <div class="flex space-x-1 border-b border-slate-800 overflow-x-auto pb-1 no-scrollbar">
                  @for (day of currentWeekSchedule(); track day.day_id; let i = $index) {
                    <button 
                      (click)="selectDay(i)"
                      class="px-4 py-2 text-sm font-medium transition-colors border-b-2 whitespace-nowrap"
                      [class.border-cyan-500]="selectedDayIndex() === i"
                      [class.text-cyan-400]="selectedDayIndex() === i"
                      [class.border-transparent]="selectedDayIndex() !== i"
                      [class.text-slate-500]="selectedDayIndex() !== i"
                      [class.hover:text-slate-300]="selectedDayIndex() !== i"
                    >
                      {{ day.day_id }}
                    </button>
                  }
                </div>

                @if (currentDaySchedule(); as day) {
                  <!-- Yushi Focus Alert -->
                  <div class="bg-slate-800/50 border-l-4 border-yellow-500 p-4 rounded-r-lg">
                    <div class="flex items-start">
                       <i class="fas fa-lightbulb text-yellow-500 mt-1 mr-3"></i>
                       <div>
                         <span class="text-xs font-bold text-yellow-500 uppercase tracking-wider">Quant Focus</span>
                         <p class="text-sm text-slate-300 mt-1">{{ day.yushi_focus }}</p>
                       </div>
                    </div>
                  </div>

                  <!-- Task Groups Stack -->
                  <div class="space-y-4">
                    
                    <!-- AM Block -->
                    <div class="bg-slate-950 border border-slate-800 rounded-xl overflow-hidden group hover:border-slate-700 transition-colors">
                      <div class="bg-slate-900 px-4 py-2 border-b border-slate-800 flex justify-between items-center">
                        <div class="flex items-center">
                          <span class="text-[10px] font-bold text-yellow-500 bg-yellow-500/10 px-1.5 py-0.5 rounded mr-3 w-8 text-center">AM</span>
                          <span class="text-sm font-bold text-slate-200">THEORY & RESEARCH</span>
                        </div>
                        <span class="text-xs text-slate-500 font-mono hidden sm:inline">{{ day.am.topic }}</span>
                      </div>
                      <div class="p-4">
                        <div class="text-sm text-slate-300 font-medium mb-3 sm:hidden">{{ day.am.topic }}</div>
                        <ul class="space-y-2">
                          @for (task of day.am.tasks; track task) {
                            <li class="flex items-start cursor-pointer group/item" (click)="toggleTask(task)">
                              <div class="w-5 h-5 border rounded mr-3 flex items-center justify-center flex-shrink-0 transition-colors mt-0.5"
                                 [class.bg-yellow-500]="isTaskCompleted(task)"
                                 [class.border-yellow-500]="isTaskCompleted(task)"
                                 [class.border-slate-700]="!isTaskCompleted(task)"
                                 [class.group-hover/item:border-slate-500]="!isTaskCompleted(task)">
                                 @if (isTaskCompleted(task)) { <i class="fas fa-check text-black text-xs"></i> }
                              </div>
                              <span class="text-sm transition-all" [class.opacity-50]="isTaskCompleted(task)" [class.line-through]="isTaskCompleted(task)" [class.text-slate-500]="isTaskCompleted(task)" [class.text-slate-300]="!isTaskCompleted(task)">{{ task }}</span>
                            </li>
                          }
                        </ul>
                      </div>
                    </div>

                    <!-- PM Block -->
                    <div class="bg-slate-950 border border-slate-800 rounded-xl overflow-hidden group hover:border-slate-700 transition-colors">
                      <div class="bg-slate-900 px-4 py-2 border-b border-slate-800 flex justify-between items-center">
                        <div class="flex items-center">
                          <span class="text-[10px] font-bold text-blue-400 bg-blue-400/10 px-1.5 py-0.5 rounded mr-3 w-8 text-center">PM</span>
                          <span class="text-sm font-bold text-slate-200">HIGH PERFORMANCE CODING</span>
                        </div>
                         <span class="text-xs text-slate-500 font-mono hidden sm:inline">{{ day.pm.topic }}</span>
                      </div>
                      <div class="p-4">
                         <div class="text-sm text-slate-300 font-medium mb-3 sm:hidden">{{ day.pm.topic }}</div>
                        <ul class="space-y-2">
                          @for (task of day.pm.tasks; track task) {
                            <li class="flex items-start cursor-pointer group/item" (click)="toggleTask(task)">
                              <div class="w-5 h-5 border rounded mr-3 flex items-center justify-center flex-shrink-0 transition-colors mt-0.5"
                                 [class.bg-blue-500]="isTaskCompleted(task)"
                                 [class.border-blue-500]="isTaskCompleted(task)"
                                 [class.border-slate-700]="!isTaskCompleted(task)"
                                 [class.group-hover/item:border-slate-500]="!isTaskCompleted(task)">
                                 @if (isTaskCompleted(task)) { <i class="fas fa-check text-black text-xs"></i> }
                              </div>
                              <span class="text-sm transition-all" [class.opacity-50]="isTaskCompleted(task)" [class.line-through]="isTaskCompleted(task)" [class.text-slate-500]="isTaskCompleted(task)" [class.text-slate-300]="!isTaskCompleted(task)">{{ task }}</span>
                            </li>
                          }
                        </ul>
                      </div>
                    </div>

                    <!-- Night Block -->
                    <div class="bg-slate-950 border border-slate-800 rounded-xl overflow-hidden group hover:border-slate-700 transition-colors">
                      <div class="bg-slate-900 px-4 py-2 border-b border-slate-800 flex justify-between items-center">
                        <div class="flex items-center">
                          <span class="text-[10px] font-bold text-purple-400 bg-purple-400/10 px-1.5 py-0.5 rounded mr-3 w-8 text-center">NT</span>
                          <span class="text-sm font-bold text-slate-200">ALGO & REVIEW</span>
                        </div>
                         <span class="text-xs text-slate-500 font-mono hidden sm:inline">{{ day.night.topic }}</span>
                      </div>
                      <div class="p-4">
                         <div class="text-sm text-slate-300 font-medium mb-3 sm:hidden">{{ day.night.topic }}</div>
                        <ul class="space-y-2">
                          @for (task of day.night.tasks; track task) {
                            <li class="flex items-start cursor-pointer group/item" (click)="toggleTask(task)">
                              <div class="w-5 h-5 border rounded mr-3 flex items-center justify-center flex-shrink-0 transition-colors mt-0.5"
                                 [class.bg-purple-500]="isTaskCompleted(task)"
                                 [class.border-purple-500]="isTaskCompleted(task)"
                                 [class.border-slate-700]="!isTaskCompleted(task)"
                                 [class.group-hover/item:border-slate-500]="!isTaskCompleted(task)">
                                 @if (isTaskCompleted(task)) { <i class="fas fa-check text-black text-xs"></i> }
                              </div>
                              <span class="text-sm transition-all" [class.opacity-50]="isTaskCompleted(task)" [class.line-through]="isTaskCompleted(task)" [class.text-slate-500]="isTaskCompleted(task)" [class.text-slate-300]="!isTaskCompleted(task)">{{ task }}</span>
                            </li>
                          }
                        </ul>
                      </div>
                    </div>
                  </div>

                  <!-- Learning Journal Section -->
                  <div class="bg-slate-950 border border-slate-800 rounded-xl overflow-hidden mt-6 flex flex-col max-h-[600px]">
                      <div class="bg-slate-900 px-4 py-3 border-b border-slate-800 flex justify-between items-center">
                          <span class="text-sm font-bold text-slate-200">
                            <i class="fas fa-book-journal-whills text-emerald-500 mr-2"></i>Learning Journal
                          </span>
                          <span class="text-xs text-slate-500">{{ currentDayLogs().length }} entries</span>
                      </div>

                      <!-- Input Area -->
                      <div class="p-4 bg-slate-950 border-b border-slate-800">
                          <textarea 
                            [ngModel]="currentLogInput()"
                            (ngModelChange)="currentLogInput.set($event)"
                            class="w-full bg-slate-900 text-slate-300 p-3 text-sm rounded-lg border border-slate-800 focus:outline-none focus:border-emerald-500/50 transition-colors resize-none h-24 placeholder-slate-600"
                            placeholder="Record your insights, formulas, or debug notes for today..."
                            (keydown.control.enter)="addLog()"
                          ></textarea>
                          <div class="flex justify-end mt-2">
                              <button 
                                (click)="addLog()"
                                [disabled]="!currentLogInput().trim()"
                                class="px-4 py-1.5 bg-emerald-600 hover:bg-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed text-white text-xs font-bold rounded-md transition-colors flex items-center"
                              >
                                <i class="fas fa-plus mr-1"></i> ADD ENTRY
                              </button>
                          </div>
                      </div>

                      <!-- Log List -->
                      <div class="overflow-y-auto flex-1 p-4 space-y-4 custom-scrollbar">
                          @if (currentDayLogs().length === 0) {
                              <div class="text-center py-8 text-slate-600 italic text-sm">
                                  No logs yet for {{ currentDaySchedule()?.day_id }}. <br> Start tracking your progress!
                              </div>
                          }
                          @for (log of currentDayLogs(); track log.id) {
                              <div class="group relative pl-4 border-l-2 border-slate-800 hover:border-emerald-500/50 transition-colors">
                                  <!-- Timestamp Dot -->
                                  <div class="absolute -left-[5px] top-0 w-2 h-2 rounded-full bg-slate-800 group-hover:bg-emerald-500 transition-colors"></div>
                                  
                                  <div class="flex justify-between items-start mb-1">
                                      <span class="text-[10px] font-mono text-slate-500">
                                        {{ log.timestamp | date:'shortTime' }} · {{ log.timestamp | date:'mediumDate' }}
                                      </span>
                                      <button (click)="deleteLog(log.id)" class="text-slate-600 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-opacity px-2">
                                          <i class="fas fa-trash-alt text-xs"></i>
                                      </button>
                                  </div>
                                  
                                  <div class="text-sm text-slate-300 whitespace-pre-wrap leading-relaxed">
                                      <markdown [data]="log.content"></markdown>
                                  </div>
                              </div>
                          }
                      </div>
                  </div>
                }

            </div>

            <!-- Right Column: Stats (Span 1) -->
            <div class="space-y-6">
                <!-- Skill Matrix (Fixed Height) -->
               <div class="bg-slate-950 border border-slate-800 rounded-xl p-4 flex flex-col items-center relative min-h-[350px]">
                  <div class="w-full flex justify-between items-start mb-4">
                     <!-- Updated Title -->
                     <h3 class="text-lg font-bold text-slate-200 tracking-wide">能力成長模型</h3>
                     <span class="text-[10px] text-emerald-500 bg-emerald-500/10 px-2 py-0.5 rounded border border-emerald-500/20">TOTAL PROFICIENCY</span>
                  </div>
                  
                  <div class="flex-1 w-full flex items-center justify-center">
                     <div #radarChart class="w-full h-full flex items-center justify-center"></div>
                  </div>
                  
                  <!-- Stats Footer -->
                  <div class="grid grid-cols-2 gap-4 w-full mt-4 pt-4 border-t border-slate-800">
                     <div class="text-center">
                       <div class="text-[10px] text-slate-500 uppercase">Math Proficiency</div>
                       <div class="text-xl font-mono font-bold text-slate-200">{{ currentEarnedSkills()['Math'] | number:'1.0-0' }}%</div>
                     </div>
                     <div class="text-center">
                       <div class="text-[10px] text-slate-500 uppercase">Coding Ability</div>
                       <div class="text-xl font-mono font-bold text-slate-200">{{ currentEarnedSkills()['Coding'] | number:'1.0-0' }}%</div>
                     </div>
                  </div>
               </div>

               <!-- Protocol Card -->
               <div class="bg-slate-950 border border-slate-800 rounded-xl p-6">
                  <h3 class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-800 pb-2">Daily Protocol</h3>
                  <ul class="space-y-4 text-xs font-mono text-slate-400">
                    <li class="flex justify-between items-center">
                        <span>08:30</span> 
                        <span class="text-slate-300 bg-slate-900 px-2 py-1 rounded border border-slate-800">SYNC_TASKS.PY</span>
                    </li>
                    <li class="flex justify-between items-center">
                        <span>09:00</span> 
                        <span class="text-slate-300 bg-slate-900 px-2 py-1 rounded border border-slate-800">DEEP WORK (THEORY)</span>
                    </li>
                    <li class="flex justify-between items-center">
                        <span>13:30</span> 
                        <span class="text-slate-300 bg-slate-900 px-2 py-1 rounded border border-slate-800">IMPLEMENTATION</span>
                    </li>
                    <li class="flex justify-between items-center">
                        <span>18:00</span> 
                        <span class="text-slate-300 bg-slate-900 px-2 py-1 rounded border border-slate-800">COMMIT & LOG</span>
                    </li>
                    <li class="flex justify-between items-center">
                        <span>20:00</span> 
                        <span class="text-slate-300 bg-slate-900 px-2 py-1 rounded border border-slate-800">LEETCODE GRIND</span>
                    </li>
                  </ul>
                  <div class="mt-4 pt-4 border-t border-slate-800 text-center">
                     <span class="text-[10px] text-slate-600">SYSTEM STATUS: <span class="text-emerald-500">ONLINE ●</span></span>
                  </div>
               </div>
            </div>

          </div>

          <!-- Bottom: AI Tutor Section -->
           <div class="bg-slate-950 rounded-xl border border-cyan-900/50 p-6 relative overflow-hidden mt-8">
            <div class="absolute top-0 right-0 w-64 h-64 bg-cyan-900/10 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"></div>
            
            <h3 class="text-lg font-semibold text-white mb-4 flex items-center">
              <i class="fas fa-robot text-cyan-400 mr-2"></i> AI 量化導師 (Quant Tutor)
            </h3>
            
            @if (tutorResponse()) {
              <div class="bg-slate-900 rounded-lg p-4 border border-slate-800 mb-4 animate-fade-in">
                <div class="text-xs text-cyan-500 font-bold mb-2 uppercase">解釋：{{ tutorConcept() }}</div>
                <markdown class="prose prose-invert prose-sm max-w-none text-slate-300 leading-relaxed" [data]="tutorResponse()"></markdown>
              </div>
              <button 
                (click)="tutorResponse.set('')" 
                class="text-xs text-slate-500 hover:text-white underline mb-4 block text-right"
              >
                清除對話
              </button>
            }

            @if (tutorLoading()) {
              <div class="flex items-center justify-center py-8">
                <div class="w-8 h-8 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin"></div>
              </div>
            }

            @if (!tutorLoading() && !tutorResponse()) {
              <p class="text-sm text-slate-400 mb-4">
                點擊下方關鍵字，讓 AI 為你深入解析這些高頻交易概念。
              </p>
              <div class="flex flex-wrap gap-2">
                @for (concept of currentWeekData()?.keyConcepts; track concept) {
                  <button 
                    (click)="askAiTutor(concept)"
                    class="px-3 py-1.5 rounded-md bg-slate-900 border border-slate-700 text-xs text-cyan-400 hover:bg-cyan-950 hover:border-cyan-500 transition-all cursor-pointer flex items-center"
                  >
                    {{ concept }} <i class="fas fa-arrow-right text-[10px] ml-1 opacity-50"></i>
                  </button>
                }
              </div>
            }
          </div>

        </div>
      }

      @if (activeTab() === 'interview') {
        <div class="max-w-2xl mx-auto py-12">
          <div class="text-center mb-10">
            <h2 class="text-3xl font-bold text-white mb-2">Quant Interview Simulator</h2>
            <p class="text-slate-400">挑戰來自頂尖對沖基金的真實面試題庫。</p>
          </div>

          <div class="bg-slate-800 rounded-2xl border border-slate-700 shadow-2xl overflow-hidden min-h-[400px] flex flex-col relative">
            <!-- Card Decor -->
            <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-purple-500 via-cyan-500 to-emerald-500"></div>

            <div class="p-8 flex-1 flex flex-col items-center justify-center text-center">
              
              @if (!interviewQuestion() && !interviewLoading()) {
                <div class="w-16 h-16 bg-slate-700 rounded-full flex items-center justify-center mb-6">
                  <i class="fas fa-brain text-2xl text-slate-300"></i>
                </div>
                <h3 class="text-xl font-medium text-white mb-2">準備好挑戰了嗎？</h3>
                <p class="text-slate-400 mb-8 max-w-md">題目涵蓋概率論、統計推斷、微積分與演算法。這將測試你在高壓下的思考能力。</p>
                <button 
                  (click)="generateQuestion()"
                  class="bg-cyan-600 hover:bg-cyan-500 text-white font-bold py-3 px-8 rounded-full transition-all transform hover:scale-105 shadow-lg shadow-cyan-900/20"
                >
                  開始模擬面試
                </button>
              }

              @if (interviewLoading()) {
                <div class="flex flex-col items-center">
                  <div class="w-10 h-10 border-4 border-slate-600 border-t-cyan-500 rounded-full animate-spin mb-4"></div>
                  <p class="text-slate-400 animate-pulse">正在從題庫中檢索難題...</p>
                </div>
              }

              @if (interviewQuestion() && !interviewLoading()) {
                <div class="w-full text-left animate-fade-in">
                  <div class="text-xs font-bold text-cyan-400 uppercase tracking-wider mb-4">Question</div>
                  <p class="text-xl text-white font-medium leading-relaxed mb-8">
                    {{ interviewQuestion() }}
                  </p>

                  <div class="border-t border-slate-700 pt-6">
                    @if (!showAnswer()) {
                      <div class="flex justify-center">
                        <button 
                          (click)="toggleAnswer()"
                          class="text-slate-400 hover:text-white flex items-center text-sm transition-colors"
                        >
                          <i class="fas fa-eye mr-2"></i> 顯示解答
                        </button>
                      </div>
                    } @else {
                      <div class="bg-slate-900/50 rounded-lg p-6 border border-slate-700 animate-fade-in">
                        <div class="text-xs font-bold text-emerald-400 uppercase tracking-wider mb-2">Answer</div>
                        <markdown class="prose prose-invert prose-sm max-w-none text-slate-300" [data]="interviewAnswer()"></markdown>
                      </div>
                      <div class="flex justify-center mt-6">
                        <button 
                          (click)="generateQuestion()"
                          class="bg-slate-700 hover:bg-slate-600 text-white py-2 px-6 rounded-md text-sm transition-colors"
                        >
                          下一題 <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                      </div>
                    }
                  </div>
                </div>
              }

            </div>
          </div>
        </div>
      }

      @if (activeTab() === 'project') {
         <div class="max-w-5xl mx-auto py-8 animate-fade-in">
           <div class="bg-gradient-to-r from-slate-900 to-slate-800 rounded-2xl border border-slate-700 p-8 mb-8">
             <div class="flex items-center mb-6">
               <div class="w-12 h-12 bg-rose-500/20 rounded-lg flex items-center justify-center mr-4 border border-rose-500/30">
                 <i class="fas fa-rocket text-rose-500 text-xl"></i>
               </div>
               <div>
                 <h2 class="text-2xl font-bold text-white">終極專題：加密貨幣高頻造市機器人</h2>
                 <p class="text-rose-400 text-sm font-mono mt-1">RL-Based Market Making System on Binance Futures</p>
               </div>
             </div>
             
             <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
               <div class="space-y-4">
                  <h3 class="text-slate-300 font-semibold border-b border-slate-700 pb-2">系統架構 (System Architecture)</h3>
                  <ul class="space-y-3 text-sm text-slate-400">
                    <li class="flex items-center"><i class="fas fa-server w-6 text-center text-slate-500"></i> AWS EC2 (Tokyo) + Docker</li>
                    <li class="flex items-center"><i class="fas fa-microchip w-6 text-center text-slate-500"></i> NautilusTrader (Rust/Python)</li>
                    <li class="flex items-center"><i class="fas fa-database w-6 text-center text-slate-500"></i> Redis for Real-time Features</li>
                    <li class="flex items-center"><i class="fas fa-brain w-6 text-center text-slate-500"></i> XGBoost + DQN Agent</li>
                  </ul>
               </div>
               <div class="space-y-4">
                  <h3 class="text-slate-300 font-semibold border-b border-slate-700 pb-2">關鍵指標 (KPIs)</h3>
                  <div class="grid grid-cols-2 gap-4">
                    <div class="bg-slate-950 p-3 rounded border border-slate-800">
                      <div class="text-xs text-slate-500">Sharpe Ratio</div>
                      <div class="text-xl font-mono text-emerald-400">> 2.5</div>
                    </div>
                    <div class="bg-slate-950 p-3 rounded border border-slate-800">
                      <div class="text-xs text-slate-500">Max Drawdown</div>
                      <div class="text-xl font-mono text-rose-400">< 5%</div>
                    </div>
                    <div class="bg-slate-950 p-3 rounded border border-slate-800">
                      <div class="text-xs text-slate-500">Latency (Tick-to-Trade)</div>
                      <div class="text-xl font-mono text-cyan-400">< 5ms</div>
                    </div>
                    <div class="bg-slate-950 p-3 rounded border border-slate-800">
                      <div class="text-xs text-slate-500">Avg Daily Trades</div>
                      <div class="text-xl font-mono text-white">~5,000</div>
                    </div>
                  </div>
               </div>
             </div>
           </div>

           <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
             <div class="bg-slate-800 p-6 rounded-xl border border-slate-700">
               <div class="text-cyan-400 text-lg mb-3"><i class="fas fa-layer-group"></i> 數據層</div>
               <p class="text-sm text-slate-400 leading-relaxed">
                 訂閱 Binance WebSocket <code>diffDepth</code>。實作 Order Flow Imbalance (OFI) 計算，時間窗口設為 100ms。使用 Volume Clock 進行數據採樣以正規化波動率。
               </p>
             </div>
             <div class="bg-slate-800 p-6 rounded-xl border border-slate-700">
               <div class="text-purple-400 text-lg mb-3"><i class="fas fa-chess-board"></i> 策略層</div>
               <p class="text-sm text-slate-400 leading-relaxed">
                 基於 <strong>Avellaneda-Stoikov</strong> 模型。引入強化學習 (Q-Learning) 動態調整風險厭惡參數 $\gamma$。當 VPIN (毒性指標) 升高時，擴大 Spread 以減少逆向選擇。
               </p>
             </div>
             <div class="bg-slate-800 p-6 rounded-xl border border-slate-700">
               <div class="text-emerald-400 text-lg mb-3"><i class="fas fa-file-code"></i> 交付物</div>
               <p class="text-sm text-slate-400 leading-relaxed">
                 GitHub Repo 包含：系統架構圖 (Mermaid.js)、Jupyter 回測報告、Docker Compose 文件、以及詳細的 README 解釋數學推導。
               </p>
             </div>
           </div>
         </div>
      }

    </div>
  </main>
</div>
